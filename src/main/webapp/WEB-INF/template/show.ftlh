<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è–º–∏</title>
    <link rel="stylesheet" href="${contextPath}/static/css/main.css">
    <script src="${contextPath}/static/js/form-manager.js"></script>
</head>
<body>
<div class="header">
    <div>
        <h1>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è–º–∏</h1>
    </div>
    <div class="user-menu">
        <a href="${contextPath}/main" class="btn btn-info">–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</a>
        <a href="${contextPath}/logout" class="btn btn-danger">–í—ã–π—Ç–∏</a>
    </div>
</div>

<div class="content">
    <div class="btn-group">
        <button onclick="showDocumentForm('add')" class="btn btn-success">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é</button>
    </div>

    <div id="documentForm-add" class="document-form">
        <form action="${contextPath}/admin/add" method="post">
            <div class="form-group">
                <label for="newName">–ù–∞–∑–≤–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:</label>
                <input type="text" id="newName" name="name" required
                       placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏">
            </div>

            <div class="form-group">
                <label for="newDescription">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                <textarea id="newDescription" name="description" rows="4"
                          placeholder="–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏"></textarea>
            </div>

            <div class="btn-group">
                <button type="submit" class="btn btn-success">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button type="button" onclick="hideDocumentForm('add')" class="btn btn-secondary">‚ùå –û—Ç–º–µ–Ω–∞</button>
            </div>
        </form>
    </div>

    <div class="section">
        <h2>–°–ø–∏—Å–æ–∫ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–π</h2>

        <#if specializations?? && specializations?size gt 0>
            <#list specializations as spec>
                <div class="profile-card">
                    <div class="profile-field">
                        <strong>–ù–∞–∑–≤–∞–Ω–∏–µ:</strong> ${spec.name!''}
                    </div>
                    <div class="profile-field">
                        <strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> ${spec.description!''}
                    </div>

                    <div class="btn-group">
                        <button onclick="showDocumentForm('edit-${spec.specId}')"
                                class="btn btn-warning btn-small">‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å</button>

                        <form action="${contextPath}/admin/delete" method="post" style="display: inline;">
                            <input type="hidden" name="specId" value="${spec.specId}">
                            <button type="submit" class="btn btn-danger btn-small">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
                        </form>
                    </div>
                </div>

                <div id="documentForm-edit-${spec.specId}" class="document-form">
                    <form action="${contextPath}/admin/update" method="post">
                        <input type="hidden" name="specId" value="${spec.specId}">

                        <div class="form-group">
                            <label for="name-${spec.specId}">–ù–∞–∑–≤–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:</label>
                            <input type="text" id="name-${spec.specId}" name="name" required
                                   value="${spec.name!''}"
                                   placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏">
                        </div>

                        <div class="form-group">
                            <label for="description-${spec.specId}">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                            <textarea id="description-${spec.specId}" name="description" rows="4"
                                      placeholder="–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏">${spec.description!''}</textarea>
                        </div>

                        <div class="btn-group">
                            <button type="submit" class="btn btn-success">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                            <button type="button" onclick="hideDocumentForm('edit-${spec.specId}')"
                                    class="btn btn-secondary">‚ùå –û—Ç–º–µ–Ω–∞</button>
                        </div>
                    </form>
                </div>
            </#list>
        <#else>
            <p>–ù–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–π</p>
        </#if>
    </div>
</div>

<div class="footer">
    <p>¬© 2025 –ú–µ–¥–ü–æ—Ä—Ç–∞–ª. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å</p>
</div>
</body>
</html>